@page
@using KVSC.Infrastructure.DTOs
@model KoiVeterinaryServiceCenter_FE.Pages.User.Admin.UserInfoModel
@{
    Layout = "_LayoutBoard";
}

<form method="get" class="d-flex align-items-center p-3 border rounded shadow-sm">
    <h4 class="mb-0 me-3"></h4>

    <div class="mb-3 me-2">
        <label asp-for="FullName" class="visually-hidden">Full name</label>
        <input type="text" asp-for="FullName" class="form-control" placeholder="Họ và tên" />
    </div>

    <div class="mb-3 me-2">
        <label asp-for="Email" class="visually-hidden">Email</label>
        <input type="email" asp-for="Email" class="form-control" placeholder="Email" />
    </div>

    <div class="mb-3 me-2">
        <label asp-for="PhoneNumber" class="visually-hidden">PhoneNumber</label>
        <input type="text" asp-for="PhoneNumber" class="form-control" placeholder="Số điện thoại" />
    </div>

    <div class="mb-3 me-2">
        <label asp-for="Address" class="visually-hidden">Address</label>
        <input type="text" asp-for="Address" class="form-control" placeholder="Địa chỉ" />
    </div>

    <div class="mb-3 me-2 flex-grow-1">
        <select asp-for="Role" class="form-select" asp-items="ViewBag.Roles">
        </select>
    </div>

    <button type="submit" class="btn btn-primary w-25">Tìm kiếm</button>
</form>
<!-- Trigger Button for Modal -->
<button type="button" class="btn btn-primary m-2" data-bs-toggle="modal" data-bs-target="#createServiceModal">Add User</button>

<!-- Table for displaying services -->

@await Component.InvokeAsync("GenericTable", new { items = Model.UserList.Extensions.Data.Data.Cast<IPropertyNameProvider>(), listType = "user" })

@* <div class="modal fade @(Model.ShowModal ? "show" : "")" id="createUserModal" tabindex="-1" aria-labelledby="createUserModalLabel" aria-hidden="true" style="display:@(Model.ShowModal ? "block" : "none");">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createUserModalLabel">Thêm Người Dùng Mới</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="bg-light rounded h-100 p-4">
                    <h6 class="mb-4">Thông Tin Người Dùng</h6>

                    <!-- Validation Summary (Tổng hợp lỗi) -->
                    <div asp-validation-summary="All" class="text-danger"></div>

                    <form id="createUserForm" method="post" asp-page-handler="CreateUser">
                        <!-- Họ và tên -->
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="fullName" name="AddUserRequest.FullName" placeholder="Họ và tên">
                            <label for="fullName">Họ và tên</label>
                            <span asp-validation-for="AddUserRequest.FullName" class="text-danger"></span>
                        </div>

                        <!-- Email -->
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control" id="email" name="AddUserRequest.Email" placeholder="Email">
                            <label for="email">Email</label>
                            <span asp-validation-for="AddUserRequest.Email" class="text-danger"></span>
                        </div>

                        <!-- Số điện thoại -->
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="phoneNumber" name="AddUserRequest.PhoneNumber" placeholder="Số điện thoại">
                            <label for="phoneNumber">Số điện thoại</label>
                            <span asp-validation-for="AddUserRequest.PhoneNumber" class="text-danger"></span>
                        </div>

                        <!-- Địa chỉ -->
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="address" name="AddUserRequest.Address" placeholder="Địa chỉ">
                            <label for="address">Địa chỉ</label>
                            <span asp-validation-for="AddUserRequest.Address" class="text-danger"></span>
                        </div>

                        <!-- Ngày sinh -->
                        <div class="form-floating mb-3">
                            <input type="date" class="form-control" id="dateOfBirth" name="AddUserRequest.DateOfBirth" placeholder="Ngày sinh">
                            <label for="dateOfBirth">Ngày sinh</label>
                            <span asp-validation-for="AddUserRequest.DateOfBirth" class="text-danger"></span>
                        </div>

                        <!-- Vai trò -->
                        <div class="form-floating mb-3">
                            <select asp-for="AddUserRequest.Role" class="form-select" asp-items="ViewData[" Roles"]" id="roleId"></select>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="btn btn-primary" id="submitUserForm">Thêm Người Dùng</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div> *@